import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

// 中文翻译
const zhCN = {
  common: {
    age: '年龄',
    gender: '性别',
    height: '身高',
    weight: '体重',
    male: '男',
    female: '女',
    save: '保存',
    cancel: '取消',
    confirm: '确认',
    close: '关闭',
    metric: '公制',
    imperial: '英制',
  },
  header: {
    title: '碳循环饮食计算器',
  },
  basicInfo: {
    title: '基础信息',
    ageUnit: '岁',
    heightUnit: 'cm',
    weightUnit: 'kg',
  },
  nutrition: {
    title: '营养素系数',
    bodyType: '体型',
    endomorph: '内胚型',
    mesomorph: '中胚型',
    ectomorph: '外胚型',
    carbCoeff: '碳水',
    proteinCoeff: '蛋白质',
    fatCoeff: '脂肪',
    descriptions: {
      endomorph:
        '内胚型：易增重，代谢较慢，适合低碳水高蛋白饮食。蛋白质建议0.8-2.5g/kg体重。',
      mesomorph:
        '中胚型：肌肉发达，代谢均衡，营养分配相对灵活。蛋白质建议0.8-2.5g/kg体重。',
      ectomorph:
        '外胚型：偏瘦难增重，代谢快，需要更多碳水维持体重。蛋白质建议0.8-2.5g/kg体重。',
      default:
        '选择体型后显示对应的营养建议。蛋白质建议0.8-2.5g/kg体重，根据训练强度调整。',
    },
  },
  activity: {
    title: '活动参数',
    cycleDays: '循环天数',
    days: '天',
    activityLevel: '活动系数',
    activityTooltip:
      '活动系数用于计算 TDEE（每日总能量消耗），不会影响碳循环计划的分配。若不确定，推荐选择"中度"。',
    sedentary: '久坐 – 几乎不运动（办公室）',
    light: '轻度 – 轻运动 1–3 次/周',
    moderate: '中度 – 规律训练 3–5 次/周',
    active: '活跃 – 高强度训练 6–7 次/周',
    very_active: '极高 – 职业运动员 / 体力劳动',
  },
  results: {
    title: '营养方案',
    copyResults: '复制结果',
    copyAsMarkdown: '复制为 Markdown',
    copyAsCSV: '复制为 CSV',
    exportPNG: '导出 PNG',
    exportStart: '正在导出 PNG…',
    exportSuccess: 'PNG 已保存',
    exportError: '导出失败',
    dailyProtein: '每日蛋白',
    weeklyCarbs: '周碳水',
    weeklyFat: '周脂肪',
    weeklyCalories: '周热量',
    dailyTDEE: '每日TDEE',
    calorieInfo: '热量信息',
    dayTypes: {
      high: '🔥 高碳日',
      medium: '⚖️ 中碳日',
      low: '🌿 低碳日',
    },
    carbs: '碳水',
    fat: '脂肪',
    protein: '蛋白',
    totalCalories: '总热量',
    calorieDeficit: '热量差',
    totalCaloriesFull: '总热量',
    calorieDeficitFull: '热量差',
    workout: '训练项目',
    selectWorkout: '选择训练',
    nutritionBreakdown: '营养配比',
    dayNumber: '第{{day}}天',
    dropCardHere: '拖拽卡片到此处',
    fillFormFirst: '请先填写完整信息',
    fillFormDescription:
      '体重、体型、蛋白系数与循环天数就绪后，这里会即时展示你的 3–7 天计划。',
    carbCyclingPlan: '碳循环饮食计划',
    weeklySummary: '周度摘要',
    dailyDetails: '每日明细',
    day: '天数',
    dayType: '日型',
    copySuccess: '结果已复制到剪贴板！',
    copyError: '复制失败',
  },
  mealPlanner: {
    showLibrary: '显示食材库',
    hideLibrary: '收起食材库',
    resetPlanAction: '重置餐单',
    resetSuccess: '餐单已重置',
    daySummary: '第{{day}}天餐单',
    slotTotals: '碳 {{carbs}}g · 蛋白 {{protein}}g · 脂肪 {{fat}}g',
    addFoodToSlot: '添加食材到餐次',
    emptySlotHint: '还没有添加食材',
    unknownFood: '未知食材',
    portionMacros: '碳{{carbs}}g / 蛋白{{protein}}g / 脂肪{{fat}}g',
    servings: '份数',
    chooseFood: '选择食材',
    searchPlaceholder: '搜索食材…',
    addFood: '添加',
    carbsDiff: '碳水 {{value}}',
    proteinDiff: '蛋白 {{value}}',
    fatDiff: '脂肪 {{value}}',
    calorieDiff: '热量 {{value}}',
    foodLibraryTitle: '食材库',
    foodLibrarySubtitle: '挑选常用食材或录入自己的原食材，方便排餐。',
    showAddFoodForm: '新增自定义食材',
    hideAddFoodForm: '收起添加表单',
    fieldName: '食材名称',
    fieldCategory: '分类',
    fieldServing: '每份',
    fieldServingUnit: '基础单位',
    fieldCarbs: '碳水 (g)',
    fieldProtein: '蛋白 (g)',
    fieldFat: '脂肪 (g)',
    fieldPreparation: '称重状态',
    fieldEmoji: '图标 Emoji',
    submitNewFood: '保存',
    servingUnitPlaceholder: '选择单位',
    servingUnitHint: '宏量营养应按照该基础单位记录。',
    servingInputLabel: {
      default: '份数',
      per_100g: '重量 (克)',
      per_100ml: '容量 (毫升)',
      per_piece: '份数',
      per_half_piece: '半份数',
    },
    servingInputSuffix: {
      per_100g: '克',
      per_100ml: '毫升',
    },
    addFoodErrorTitle: '请完善食材信息',
    addFoodErrorDescription: '名称、份量与宏量营养需要填写完整。',
    customCategory: '自定义',
    customFoodAdded: '自定义食材已保存',
    customBadge: '自定义',
    carbsShort: '碳 {{value}}g',
    proteinShort: '蛋白 {{value}}g',
    fatShort: '脂肪 {{value}}g',
    caloriesShort: '{{value}} kcal',
    removeCustomFood: '删除食材',
    noFoodsFound: '没有匹配的食材',
    showMealsForDay: '展开餐单',
    hideMealsForDay: '收起餐单',
    quickAddLabel: '快速添加食材',
    quickAddTitle: '快速添加新食材',
    quickAddSubmit: '保存并选用',
    addMealSlot: '添加餐次',
    removeSlot: '移除{{slot}}',
    categories: {
      protein: '蛋白质',
      carb: '碳水',
      fat: '脂肪',
      supplement: '补剂',
    },
    foods: {
      chickenBreast: {
        name: '鸡胸肉',
        serving: '100 克熟重',
      },
      salmon: {
        name: '三文鱼排',
        serving: '100 克熟重',
      },
      whey: {
        name: '乳清蛋白粉',
        serving: '1 勺（30 克）',
      },
      egg: {
        name: '全蛋',
        serving: '1 枚大号鸡蛋',
      },
      brownRice: {
        name: '糙米',
        serving: '100 克熟重',
      },
      sweetPotato: {
        name: '红薯',
        serving: '100 克烤熟',
      },
      banana: {
        name: '香蕉',
        serving: '1 根中等大小',
      },
      avocado: {
        name: '牛油果',
        serving: '1/2 个中等大小',
      },
      almonds: {
        name: '杏仁',
        serving: '100 克',
      },
      greekYogurt: {
        name: '希腊酸奶',
        serving: '100 克',
      },
    },
    servingUnits: {
      per_100g: '每 100 克',
      per_100ml: '每 100 毫升',
      per_piece: '每 1 份',
      per_half_piece: '每半份',
    },
    slots: {
      breakfast: '早餐',
      morning_snack: '上午加餐',
      lunch: '午餐',
      pre_workout: '训练前',
      post_workout: '训练后',
      dinner: '晚餐',
      evening_snack: '夜宵',
    },
    preparationRaw: '生重',
    preparationCooked: '熟重',
    preparationShort: {
      raw: '生重',
      cooked: '熟重',
    },
  },
  workouts: {
    chest: '胸部',
    back: '背部',
    legs: '腿部',
    shoulders: '肩部',
    arms: '手臂',
    abs: '腹部',
    full_body: '全身',
    cardio: '有氧',
    rest: '休息',
  },
  footer: {
    disclaimer: '本计算器仅供参考，具体饮食请咨询专业营养师。',
  },
  accessibility: {
    switchToLanguage: '切换到{{language}}',
    currentTheme: '当前主题：{{theme}}',
    switchToUnits: '切换到{{units}}单位',
    themeLight: '浅色',
    themeDark: '深色',
    themeSystem: '系统',
    unitsMetric: '公制',
    unitsImperial: '英制',
  },
};

// 英文翻译
const enUS = {
  common: {
    age: 'Age',
    gender: 'Gender',
    height: 'Height',
    weight: 'Weight',
    male: 'Male',
    female: 'Female',
    save: 'Save',
    cancel: 'Cancel',
    confirm: 'Confirm',
    close: 'Close',
    metric: 'Metric',
    imperial: 'Imperial',
  },
  header: {
    title: 'Carb Cycling Calculator',
  },
  basicInfo: {
    title: 'Basic Information',
    ageUnit: 'yrs',
    heightUnit: 'cm',
    weightUnit: 'kg',
  },
  nutrition: {
    title: 'Macronutrient Settings',
    bodyType: 'Body Type',
    endomorph: 'Endomorph',
    mesomorph: 'Mesomorph',
    ectomorph: 'Ectomorph',
    carbCoeff: 'Carbs',
    proteinCoeff: 'Protein',
    fatCoeff: 'Fat',
    descriptions: {
      endomorph:
        'Endomorph: Prone to weight gain with a slower metabolism. Best suited for a low-carb, high-protein diet. Suggested protein intake: 0.8–2.5 g/kg body weight.',
      mesomorph:
        'Mesomorph: Muscular build with balanced metabolism. Can adapt flexibly to different nutrition strategies. Suggested protein intake: 0.8–2.5 g/kg body weight.',
      ectomorph:
        'Ectomorph: Naturally lean with a fast metabolism. Requires more carbs to maintain weight. Suggested protein intake: 0.8–2.5 g/kg body weight.',
      default:
        'Select a body type to view tailored nutrition guidance. Suggested protein intake: 0.8–2.5 g/kg body weight, adjusted by training intensity.',
    },
  },
  activity: {
    title: 'Activity Settings',
    cycleDays: 'Cycle Length',
    days: 'days',
    activityLevel: 'Activity Factor',
    activityTooltip:
      'Activity factor is used to calculate TDEE (total daily energy expenditure). It does not affect carb cycling plan distribution. If unsure, choose "Moderate".',
    sedentary: 'Sedentary – Office job, little/no exercise',
    light: 'Lightly active – Exercise 1–3 times/week',
    moderate: 'Moderate – Exercise 3–5 times/week',
    active: 'Very active – Exercise 6–7 times/week',
    very_active: 'Extra active – Athlete or physical job',
  },
  results: {
    title: 'Nutrition Plan',
    copyResults: 'Copy Results',
    copyAsMarkdown: 'Copy as Markdown',
    copyAsCSV: 'Copy as CSV',
    exportPNG: 'Export PNG',
    exportStart: 'Exporting PNG…',
    exportSuccess: 'PNG saved',
    exportError: 'Export failed',
    dailyProtein: 'Daily Protein',
    weeklyCarbs: 'Weekly Carbs',
    weeklyFat: 'Weekly Fat',
    weeklyCalories: 'Weekly Calories',
    dailyTDEE: 'TDEE',
    calorieInfo: 'Calories',
    dayTypes: {
      high: '🔥 High Carb',
      medium: '⚖️ Medium Carb',
      low: '🌿 Low Carb',
    },
    carbs: 'Carbs',
    fat: 'Fat',
    protein: 'Protein',
    totalCalories: 'Total',
    calorieDeficit: 'Diff',
    totalCaloriesFull: 'Total Calories',
    calorieDeficitFull: 'Calorie Deficit',
    workout: 'Workout',
    selectWorkout: 'Select Workout',
    nutritionBreakdown: 'Nutrition Breakdown',
    dayNumber: 'Day {{day}}',
    dropCardHere: 'Drag & drop here',
    fillFormFirst: 'Please complete all required fields',
    fillFormDescription:
      'Once weight, body type, protein setting, and cycle length are set, a 3–7 day plan will be generated instantly.',
    carbCyclingPlan: 'Carb Cycling Plan',
    weeklySummary: 'Weekly Summary',
    dailyDetails: 'Daily Breakdown',
    day: 'Day',
    dayType: 'Type',
    copySuccess: 'Copied to clipboard!',
    copyError: 'Copy failed',
  },
  mealPlanner: {
    showLibrary: 'Show food library',
    hideLibrary: 'Hide food library',
    resetPlanAction: 'Reset meal plan',
    resetSuccess: 'Meal plan cleared',
    daySummary: 'Day {{day}} meal overview',
    slotTotals: 'C {{carbs}}g · P {{protein}}g · F {{fat}}g',
    addFoodToSlot: 'Add food to slot',
    emptySlotHint: 'No items yet',
    unknownFood: 'Unknown food',
    portionMacros: 'C{{carbs}}g / P{{protein}}g / F{{fat}}g',
    servings: 'Servings',
    chooseFood: 'Choose food',
    searchPlaceholder: 'Search foods…',
    addFood: 'Add',
    carbsDiff: 'Carbs {{value}}',
    proteinDiff: 'Protein {{value}}',
    fatDiff: 'Fat {{value}}',
    calorieDiff: 'Calories {{value}}',
    foodLibraryTitle: 'Food library',
    foodLibrarySubtitle:
      'Start with curated staples or add your own ingredients for planning.',
    showAddFoodForm: 'Add custom food',
    hideAddFoodForm: 'Hide form',
    fieldName: 'Name',
    fieldCategory: 'Category',
    fieldServing: 'Serving size',
    fieldServingUnit: 'Base unit',
    fieldCarbs: 'Carbs (g)',
    fieldProtein: 'Protein (g)',
    fieldFat: 'Fat (g)',
    fieldPreparation: 'State when weighed',
    fieldEmoji: 'Emoji',
    submitNewFood: 'Save food',
    servingUnitPlaceholder: 'Select unit',
    servingUnitHint: 'Record macros for this base amount.',
    servingInputLabel: {
      default: 'Servings',
      per_100g: 'Amount (g)',
      per_100ml: 'Amount (ml)',
      per_piece: 'Pieces',
      per_half_piece: 'Half pieces',
    },
    servingInputSuffix: {
      per_100g: 'g',
      per_100ml: 'ml',
    },
    addFoodErrorTitle: 'Check the food details',
    addFoodErrorDescription:
      'Name, serving size, and macronutrients are required.',
    customCategory: 'Custom',
    customFoodAdded: 'Custom food saved',
    customBadge: 'Custom',
    carbsShort: 'C {{value}}g',
    proteinShort: 'P {{value}}g',
    fatShort: 'F {{value}}g',
    caloriesShort: '{{value}} kcal',
    removeCustomFood: 'Remove food',
    noFoodsFound: 'No foods match your search',
    showMealsForDay: 'Show meal slots',
    hideMealsForDay: 'Hide meal slots',
    quickAddLabel: 'Quick add food',
    quickAddTitle: 'Add a new food on the fly',
    quickAddSubmit: 'Save & select',
    addMealSlot: 'Add meal slot',
    removeSlot: 'Remove {{slot}}',
    categories: {
      protein: 'Protein',
      carb: 'Carb',
      fat: 'Fat',
      supplement: 'Supplement',
    },
    foods: {
      chickenBreast: {
        name: 'Chicken breast',
        serving: '100 g cooked',
      },
      salmon: {
        name: 'Salmon fillet',
        serving: '100 g cooked',
      },
      whey: {
        name: 'Whey protein',
        serving: '1 scoop (30 g)',
      },
      egg: {
        name: 'Whole egg',
        serving: '1 large egg',
      },
      brownRice: {
        name: 'Brown rice',
        serving: '100 g cooked',
      },
      sweetPotato: {
        name: 'Sweet potato',
        serving: '100 g baked',
      },
      banana: {
        name: 'Banana',
        serving: '1 medium',
      },
      avocado: {
        name: 'Avocado',
        serving: '1/2 medium',
      },
      almonds: {
        name: 'Almonds',
        serving: '100 g',
      },
      greekYogurt: {
        name: 'Greek yogurt',
        serving: '100 g',
      },
    },
    servingUnits: {
      per_100g: 'Per 100 g',
      per_100ml: 'Per 100 ml',
      per_piece: 'Per piece',
      per_half_piece: 'Per half piece',
    },
    slots: {
      breakfast: 'Breakfast',
      morning_snack: 'Morning snack',
      lunch: 'Lunch',
      pre_workout: 'Pre-workout meal',
      post_workout: 'Post-workout meal',
      dinner: 'Dinner',
      evening_snack: 'Evening snack',
    },
    preparationRaw: 'Raw weight',
    preparationCooked: 'Cooked weight',
    preparationShort: {
      raw: 'raw',
      cooked: 'cooked',
    },
  },
  workouts: {
    chest: 'Chest',
    back: 'Back',
    legs: 'Legs',
    shoulders: 'Shoulders',
    arms: 'Arms',
    abs: 'Abs',
    full_body: 'Full Body',
    cardio: 'Cardio',
    rest: 'Rest',
  },
  footer: {
    disclaimer:
      'This calculator is for reference only. Please consult a certified nutritionist for personalized dietary advice.',
  },
  accessibility: {
    switchToLanguage: 'Switch to {{language}}',
    currentTheme: 'Current theme: {{theme}}',
    switchToUnits: 'Switch to {{units}} units',
    themeLight: 'light',
    themeDark: 'dark',
    themeSystem: 'system',
    unitsMetric: 'metric',
    unitsImperial: 'imperial',
  },
};

// 配置i18n
i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources: {
      'zh-CN': { translation: zhCN },
      'en-US': { translation: enUS },
    },
    lng: 'zh-CN', // 默认语言
    fallbackLng: 'zh-CN', // 回退语言

    detection: {
      order: ['localStorage', 'navigator', 'htmlTag'],
      caches: ['localStorage'],
      lookupLocalStorage: 'i18nextLng',
    },

    interpolation: {
      escapeValue: false,
    },
  });

export default i18n;
